<!doctype html>
<html lang="ru">

<head>
	<meta charset="utf-8">
	<title>CSS Object Model</title>
	<meta name="description" content="Introduction in CSS Object Model API">
	<meta name="keywords" content="css, cssom, dom, api, js, document">
	<meta name="author" content="Pavel Karpovich">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="../../css/bundle.min.css">
	
	<link rel="stylesheet" href="../../css/custom.css" />
	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match( /print-pdf/gi ) ? "../../css/print/pdf.css" : "../../css/print/paper.css";
		document.getElementsByTagName( 'head' )[0].appendChild( link );
	</script>

	<!--[if lt IE 9]>
		<script src="../../js/html5shiv.min.js"></script>
	<![endif]-->
</head>

<body>
	<script src="../../js/theme.js"></script>
	<div class="reveal">
		<div class="slides">
			<section>
                <section>
                    <h1>Веб программирование. Фронтенд</h1>
                    <h3>CSSOM</h3>
					<div>
						<p style="display: inline-block;">
							Карпович Павел / 
						</p>
						<a href="https://github.com/tgjmjgj" class="icon-button github">
							<i class="fa fa-github"></i><span></span>
						</a>
						<a href="https://facebook.com/paradox7master" class="icon-button facebook">
							<i class="fa fa-facebook"></i><span></span>
						</a>
					</div>
                </section>
				<section>
					<h2>Содержание лекции</h2>
					<nav id="presentable-toc" class="table-content"></nav>
				</section>
			</section>
            
            <section>
                <section>
                    <h1>CSSOM</h1>
                    <p></p>
                    <small>Да, есть такое название</small>
                </section>
                <section>
                    <h2>CSSOM</h2>
                    <p>
                        До этого момента мы рассматривали DOM API, - набор функций, который позволяет программно
                        взаимодействовать с HTML документом.
                    </p>
                    <p>
                        Мы не касались стилей, даже когда работали с классами. CSS классы уже были
                        созданы заранее, а мы лишь подключали/отключали их от HTML элементов. Т.е.
                        просто работали с атрибутом class, а атрибуты это часть DOM.
                    </p>
                    <p>
                        CSSOM же позволяет изменять именно <u>стили</u>.
                    </p>
                </section>
                <section>
                    <h2>CSSOM</h2>
                    <blockquote>
                        <span class="purple">CSS Object Model</span> (CSSOM) - это API, набор функций
                        и объектов, которые позволяют взаимодействовать с CSS через JavaScript. 
                    </blockquote>
                    <p>
                        Это то же, что и DOM, только для CSS, а не для HTML.
                    </p>
                    <p>
                        С помощью CSSOM можно получать и динамически изменять стили, программно
                        создавать наборы стилей и CSS классы.
                    </p>
                </section>
                <section>
                    <h2>Встроенные стили</h2>
                    <p>
                        Самый главный и удобный способ взаимодействия с CSS свойствами - через
                        свойство <span class="blue">style</span>, которое есть у всех HTML элементов
                        (объект <i>HTMLElement</i>).
                    </p>
                    <p>
                        Например:
                    </p>
                    <pre>
                        <code class="js">
document.body.style.background = "lightblue";
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>Свойство style</h2>
                    <p>
                        Через это JS свойство можно получать значение и изменять <u>любое</u> CSS свойство, у любого
                        элемента на странице.
                    </p>
                    <p>
                        Вот по такому формату:
                    </p>
                    <pre>
                        <code class="js">
element.style.propertyName
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>Объект style</h2>
                    <p>
                        Свойство <span class="blue">style</span> содержит в себе объект <span class="blue">CSSStyleDeclaration</span>
                        (или <span class="blue">CSS2Properties</span>, в зависимости от браузера).
                    </p>
                    <p>
                        Это просто объект, в котором есть ключи для большинства свойств, существующих в CSS.
                    </p>
                    <p>
                        Если заглянуть в него, то можно будет увидеть этот огромный перечень свойств.
                    </p>
                </section>
                <section>
                    <h2>Правила наименования</h2>
                    <p>
                        Имена многих свойств записаны в объекте <span class="blue">style</span> так же, как и в CSS.
                    </p>
                    <p>
                        Но в некоторых именах в CSS встречаются знаки тире "-", а в JS этот символ нельзя использовать для 
                        названий переменных, поэтому при переносе свойств в JS знаки тире пропадают, и вместо них следующая
                        буква прописывается заглавной.
                    </p>
                    <p>
                        Трансляция имён происходит по такому принципу:
                    </p>
                    <table>
                        <tr>
                            <th><span class="blue">CSS</span></th>
                            <th><span class="purple">JS</span></th>
                        </tr>
                        <tr>
                            <td><span class="blue">background-color</span></td>
                            <td><span class="purple">backgroundColor</span></td>
                        </tr>
                        <tr>
                            <td><span class="blue">border-radius</span></td>
                            <td><span class="purple">borderRadius</span></td>
                        </tr>
                        <tr>
                            <td><span class="blue">box-sizing</span></td>
                            <td><span class="purple">boxSizing</span></td>
                        </tr>
                        <tr>
                            <td><span class="blue">grid-row-gap</span></td>
                            <td><span class="purple">grdidRowGap</span></td>
                        </tr>
                        <tr>
                            <td><span class="blue">min-width</span></td>
                            <td><span class="purple">minWidth</span></td>
                        </tr>
                    </table>
                </section>
                <section>
                    <h3>Пример с inline стилями</h3>
                    <style>
                        .cp_embed_wrapper > iframe[id="cp_embed_PgwqgK"] {
                            height: 500px;
                        }
                    </style>
                    <p class="codepen" data-height="265" data-theme-id="0" data-default-tab="html,result" data-user="ParadoxMaster" data-slug-hash="PgwqgK" data-preview="true" style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="Using the style property to change the background color">
                        <span>See the Pen <a href="https://codepen.io/ParadoxMaster/pen/PgwqgK/">
                        Using the style property to change the background color</a> by Pavel (<a href="https://codepen.io/ParadoxMaster">@ParadoxMaster</a>)
                        on <a href="https://codepen.io">CodePen</a>.</span>
                    </p>
                    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
                </section>
                <section>
                    <h2>Inline стили</h3>
                    <p>
                        Свойство <span class="blue">style</span> - очень мощный инструмент, благодаря ему можно создавать
                        настоящую динамику и сложную анимацию на странице.
                    </p>
                    <p>
                        Но у этого свойства есть одна проблема: оно работает чисто со <span class="purple">встроенными (inline)</span>
                        стилями.
                    </p>
                    <blockquote>
                        Inline стилями называются стили, которые прописаны прямо внутри HTML элемента.
                    </blockquote>
                    <p>
                        В документе это выглядит вот так:
                    </p>
                    <pre>
                        <code class="html">
&lt;span class="algolia-autocomplete" style="position: relative; display: inline-block; direction: ltr;"&gt;&lt;/span&gt;
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>Проблема</h2>
                    <p>
                        Если задать значение inline свойству, и затем прочитать его, всё будет нормально:
                    </p>
                    <pre>
                        <code class="js">
// HTML:  &lt;body&gt;
document.body.style.backgroundColor = "rgb(100, 100, 100)";

// Теперь HTML: &lt;body style="background-color: rgb(100, 100, 100)"&gt;
console.log(document.body.style.backgroundColor);
// Выведет "rgb(100, 100, 100)"
                        </code>
                    </pre>
                    <p>
                        А что если свойство заднего фона будет задано стилями, например, через класс?
                    </p>
                    <pre>
                        <code class="js">
// CSS:  .ct { backgroundColor: darkblue; }
// HTML:  &lt;body class="ct"&gt;

console.log(document.body.style.backgroundColor);  
// Выведет ""
                        </code>
                    </pre>
                </section>
                <section>
                    <h2>Ограничения</h2>
                    <p>
                        Свойство <span class="blue">style</span> очень удобное и незаменимое.
                    </p>
                    <p>
                        Но оно обладает очень серьёзными ограничениями.
                    </p>
                    <p>
                        Это свойство работает только с inline стилями, и никак не контактирует со всеми
                        остальными формами задания CSS свойств.
                    </p>
                    <p>
                        Этим свойством удобно пользоваться, когда нужно <u>изменить стиль</u>.
                    </p>
                    <p>
                        А вот с целью получения текущих значений CSS свойств, оно поможет слабо. Для
                        этого нужен другой подход.
                    </p>
                </section>
                <section>
                    <h2>Вычисленные свойства</h2>
                    <p>
                        CSSOM предоставляет глобальную функцию <span class="blue">getComputedStyle()</span>, находящуюся
                        прямо в <i>window</i>(не знаю, что она там забыла).
                    </p>
                    <p>
                        И эта функция позволяет получить полную таблицу вычисленных на текущий момент времени свойств
                        для любого элемента HTML страницы.
                    </p>
                </section>
            </section>
            <section>
                Events
            </section>
		</div>
	</div>

	<aside id="presentable-icon" class="cpp">
		<a title="Содержание лекции" href="#/0/1">
			<i class="fa fa-list-ul fa-2x controls"></i>
		</a>
	</aside>
	<aside id="presentable-icon-close">
		<a title="К списку материалов" href="../../index.html#/1">
			<i class="fa fa-times fa-2x controls"></i>
		</a>
	</aside>
	<aside id="presentable-theme-picker">
		<div id="hidden-bar" class="invisible">
			<div>
				<div data-theme="beige" class="theme-circle theme-beige"></div>
				<div data-theme="black" class="theme-circle theme-black"></div>
				<div data-theme="blood" class="theme-circle theme-blood"></div>
				<div data-theme="league" class="theme-circle theme-league"></div>
				<div data-theme="moon" class="theme-circle theme-moon"></div>
				<div data-theme="night" class="theme-circle theme-night"></div>
				<div data-theme="serif" class="theme-circle theme-serif"></div>
				<div data-theme="simple" class="theme-circle theme-simple"></div>
				<div data-theme="sky" class="theme-circle theme-sky"></div>
				<div data-theme="solarized" class="theme-circle theme-solarized"></div>
				<div data-theme="white" class="theme-circle theme-white"></div>
			</div>
		</div>
		<div id="selected-theme" class="theme-circle"></div>
	</aside>

	<script src="../../js/bundle.min.js"></script>
</body>

</html>